<!DOCTYPE html>
<!-- saved from url=(0021)https://www.json.cn/# -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>JSON在线解析及格式化验证 - JSON.cn</title>
    
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta http-equiv="Cache-Control" content="max-age=7200">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="baidu-site-verification" content="mlJsiTNxiD">
    <meta name="google-site-verification" content="CPogK9tQWL5XIDF9F9x_tJyy1HtpDI8Rv6owOEIkUvM">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all">
    <meta name="author" content="json.cn">

<meta name="keywords" content="json,json在线解析,json格式化,json格式验证,json转xml,xml转json">
<meta name="description" content="Json中文网致力于在中国推广Json,并提供相关的Json解析、验证、格式化、压缩、编辑器以及Json与XML相互转换等服务">

    <link href="./JSON在线解析及格式化验证 - JSON.cn_files/bootstrap.min.css" rel="stylesheet">
    <link href="./JSON在线解析及格式化验证 - JSON.cn_files/font-awesome.min.css" rel="stylesheet">
    <link href="./JSON在线解析及格式化验证 - JSON.cn_files/base.css" rel="stylesheet">
    <style></style>
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Favicons -->
<style type="text/css">.json_key{ color: #92278f;font-weight:bold;}.json_null{color: #f1592a;font-weight:bold;}.json_string{ color: #3ab54a;font-weight:bold;}.json_number{ color: #25aae2;font-weight:bold;}.json_boolean{ color: #f98280;font-weight:bold;}.json_link{ color: #61D2D6;font-weight:bold;}.json_array_brackets{}</style></head>
<body style="over-flow:hidden;">
  <header class="header">
      <div class="row-fluid">
          <div class="col-md-5" style="position:relative;">
              <a class="logo" href="https://www.json.cn/">
                Json.<span style="color:#4A5560;">cn</span></a>

          </div>
          <nav class="col-md-7" style="padding:10px 0; " align="right">
              <div class="navi">
                  <a href="https://www.json.cn/" data-placement="bottom">在线解析</a>
                  <!--<a href="http://lab.json.cn/" target="_blank"  data-placement="bottom">
                    <span class="red">JSON实验室</span>
                </a>-->
                  <a href="https://www.json.cn/wiki.html" data-placement="bottom">什么是JSON</a>
                  <a href="https://www.json.cn/code.html" data-placement="bottom">JSON解析代码</a>
                  <a href="https://www.json.cn/component.html" data-placement="bottom">JSON组件</a>

              </div>
          </nav>
          <br style="clear:both;">
      </div>
  </header>


<main class="row-fluid" style="height:85%;min-height:550px;">
    <div class="col-md-5" style="padding:0px;height:100%;">
        <div class="numberedtextarea-wrapper "><textarea id="json-src" placeholder="在此输入json字符串或XML字符串..." class="form-control" style="height:100%;height: 87vh;min-height:520px;padding:10px 10px 10px 30px;border:0;border-right:solid 1px #E5EBEE;border-bottom:solid 1px #eee;border-radius:0;resize: none; outline:none;font-size:10px;"></textarea><div class="numberedtextarea-line-numbers" style="padding-top: 10px; line-height: 17.1429px; font-family: menlo, monospace, Tahoma, 微软雅黑, 幼圆; width: 30px; display: block;"><div class="numberedtextarea-number numberedtextarea-number-1">1</div><div class="numberedtextarea-number numberedtextarea-number-2">2</div><div class="numberedtextarea-number numberedtextarea-number-3">3</div><div class="numberedtextarea-number numberedtextarea-number-4">4</div><div class="numberedtextarea-number numberedtextarea-number-5">5</div><div class="numberedtextarea-number numberedtextarea-number-6">6</div><div class="numberedtextarea-number numberedtextarea-number-7">7</div><div class="numberedtextarea-number numberedtextarea-number-8">8</div><div class="numberedtextarea-number numberedtextarea-number-9">9</div><div class="numberedtextarea-number numberedtextarea-number-10">10</div><div class="numberedtextarea-number numberedtextarea-number-11">11</div><div class="numberedtextarea-number numberedtextarea-number-12">12</div><div class="numberedtextarea-number numberedtextarea-number-13">13</div><div class="numberedtextarea-number numberedtextarea-number-14">14</div><div class="numberedtextarea-number numberedtextarea-number-15">15</div><div class="numberedtextarea-number numberedtextarea-number-16">16</div><div class="numberedtextarea-number numberedtextarea-number-17">17</div><div class="numberedtextarea-number numberedtextarea-number-18">18</div><div class="numberedtextarea-number numberedtextarea-number-19">19</div><div class="numberedtextarea-number numberedtextarea-number-20">20</div><div class="numberedtextarea-number numberedtextarea-number-21">21</div><div class="numberedtextarea-number numberedtextarea-number-22">22</div><div class="numberedtextarea-number numberedtextarea-number-23">23</div><div class="numberedtextarea-number numberedtextarea-number-24" style="margin-bottom: 10px;">24</div></div></div>
    </div>
    <div class="col-md-7" style="padding:0;position:relative;height:100%;">
        <div class="tool" style="position:absolute;">
            <a href="https://www.json.cn/#" class="tip zip" title="" data-placement="bottom" data-original-title="压缩" style="color:#999;"><i class="fa fa-database"></i></a>
            <a href="https://www.json.cn/#" class="tip xml" title="" data-placement="bottom" data-original-title="转XML" style="color:#999;"><i class="fa fa-file-excel-o"></i></a>
            <a href="https://www.json.cn/#" class="tip shown" title="" data-placement="bottom" data-original-title="显示行号" style="color:#15b374;"><i class="glyphicon glyphicon-sort-by-order"></i></a>
            <a href="https://www.json.cn/#" class="tip clear" title="" data-placement="bottom" data-original-title="清空"><i class="fa fa-trash"></i></a>
            <a href="https://www.json.cn/#" class="tip save" title="" data-placement="bottom" data-original-title="保存"><i class="fa fa-download"></i></a>
            <a href="https://www.json.cn/#" class="tip copy" title="" data-clipboard-target="#json-target" data-placement="bottom" data-original-title="复制"><i class="fa fa-copy"></i></a>
            <a href="https://www.json.cn/#" class="tip compress" title="" data-placement="bottom" data-original-title="折叠"><i class="fa fa-compress"></i></a>
        </div>
        <div id="right-box" style="width:100%;height: 87vh;min-height:520px;border:solid 1px #f6f6f6;border-radius:0;resize: none;overflow-y:scroll; outline:none;position:relative;font-size:12px;padding-top:40px;">
            <div id="line-num" style="background-color: rgb(250, 250, 250); padding: 0px 8px; float: left; border-right: 1px dashed rgb(229, 235, 238); z-index: -1; color: rgb(153, 153, 153); position: absolute; text-align: center;"><div>1<div></div></div></div>
            <div class="ro" id="json-target" style="padding:0px 25px;white-space: pre-line;word-wrap:break-word;"><span style="color: #f1592a;font-weight:bold;">RangeError: Invalid array length</span></div>
        </div>
        <form id="form-save" method="POST"><input type="hidden" value="" id="txt-content" name="content"></form>
    </div>
    <br style="clear:both;">
</main>
<link href="./JSON在线解析及格式化验证 - JSON.cn_files/jquery.numberedtextarea.css" rel="stylesheet">
<script src="./JSON在线解析及格式化验证 - JSON.cn_files/hm.js"></script><script src="./JSON在线解析及格式化验证 - JSON.cn_files/jquery.min.js"></script>
<script src="./JSON在线解析及格式化验证 - JSON.cn_files/jquery.message.js"></script><div style="clear:both;"></div><div id="jquery-beauty-msg"></div>
<script src="./JSON在线解析及格式化验证 - JSON.cn_files/jquery.json.js"></script>
<script src="./JSON在线解析及格式化验证 - JSON.cn_files/jquery.xml2json.js"></script>
<script src="./JSON在线解析及格式化验证 - JSON.cn_files/jquery.json2xml.js"></script>
<script src="./JSON在线解析及格式化验证 - JSON.cn_files/json2.js"></script>
<script src="./JSON在线解析及格式化验证 - JSON.cn_files/jsonlint.js"></script>
<script src="./JSON在线解析及格式化验证 - JSON.cn_files/clipboard.min.js"></script>
<script src="./JSON在线解析及格式化验证 - JSON.cn_files/FileSaver.min.js"></script>
<script src="./JSON在线解析及格式化验证 - JSON.cn_files/bootstrap.min.js"></script>
<script src="./JSON在线解析及格式化验证 - JSON.cn_files/jquery.numberedtextarea.js"></script>
<script type="text/javascript">
$('textarea').numberedtextarea();
var current_json = '';
var current_json_str = '';
var xml_flag = false;
var zip_flag = false;
var shown_flag = false;
var compress_flag = false;
$('.tip').tooltip();
function init(){
    xml_flag = false;
    zip_flag = false;
    shown_flag = false;
    compress_flag = false;
    renderLine();
    $('.xml').attr('style','color:#999;');
    $('.zip').attr('style','color:#999;');

}
$('#json-src').keyup(function(){
    init();
    var content = $.trim($(this).val());
    var result = '';
    if (content!='') {
        //如果是xml,那么转换为json
        if (content.substr(0,1) === '<' && content.substr(-1,1) === '>') {
            try{
                var json_obj = $.xml2json(content);
                content = JSON.stringify(json_obj);
            }catch(e){
                result = '解析错误：<span style="color: #f1592a;font-weight:bold;">' + e.message + '</span>';
                current_json_str = result;
                $('#json-target').html(result);
                return false;
            }

        }
        try{
            current_json = jsonlint.parse(content);
            current_json_str = JSON.stringify(current_json);
            //current_json = JSON.parse(content);
            result = new JSONFormat(content,4).toString();
        }catch(e){
            result = '<span style="color: #f1592a;font-weight:bold;">' + e + '</span>';
            current_json_str = result;
        }

        $('#json-target').html(result);
    }else{
        $('#json-target').html('');
    }

});
$('.xml').click(function(){
    if (xml_flag) {
        $('#json-src').keyup();
    }else{
        var result = $.json2xml(current_json);
        $('#json-target').html('<textarea style="width:100%;position:absolute;height: 80vh;min-height:480px;border:0;resize:none;">'+result+'</textarea>');
        xml_flag = true;
        $(this).attr('style','color:#15b374;');
    }

});
$('.shown').click(function(){
    if (!shown_flag) {
        renderLine();
        $('#line-num').show();
        $('.numberedtextarea-line-numbers').show();
        shown_flag = true;
        $(this).attr('style','color:#15b374;');
    }else{
        $('#line-num').hide();
        $('.numberedtextarea-line-numbers').hide();
        shown_flag = false;
        $(this).attr('style','color:#999;');
    }
});
function renderLine(){
    var line_num = $('#json-target').height()/20;
    $('#line-num').html("");
    var line_num_html = "";
    for (var i = 1; i < line_num+1; i++) {
        line_num_html += "<div>"+i+"<div>";
    }
    $('#line-num').html(line_num_html);
}
$('.zip').click(function(){
    if (zip_flag) {
        $('#json-src').keyup();
    }else{
        $('#json-target').html(current_json_str);
        zip_flag = true;
        $(this).attr('style','color:#15b374;');
    }

});
$('.compress').click(function(){
    if(!compress_flag){
        $(this).attr('style','color:#15b374;');
        //$(this).attr('title','取消折叠').tooltip('fixTitle').tooltip('show');
        $($(".fa-minus-square-o").toArray().reverse()).click();
        compress_flag = true;
    }else{
        while($(".fa-plus-square-o").length>0){
            $(".fa-plus-square-o").click();
        }
        compress_flag = false;
        $(this).attr('style','color:#555;');
        $(this).attr('title','折叠').tooltip('fixTitle').tooltip('show');
    }
});
$('.clear').click(function(){
     $('#json-src').val('');
     $('#json-target').html('');
});
(function($){
   $.fn.innerText = function(msg) {
         if (msg) {
            if (document.body.innerText) {
               for (var i in this) {
                  this[i].innerText = msg;
               }
            } else {
               for (var i in this) {
                  this[i].innerHTML.replace(/&amp;lt;br&amp;gt;/gi,"n").replace(/(&amp;lt;([^&amp;gt;]+)&amp;gt;)/gi, "");
               }
            }
            return this;
         } else {
            if (document.body.innerText) {
               return this[0].innerText;
            } else {
               return this[0].innerHTML.replace(/&amp;lt;br&amp;gt;/gi,"n").replace(/(&amp;lt;([^&amp;gt;]+)&amp;gt;)/gi, "");
            }
         }
   };
})(jQuery);
$('.save').click(function(){
    // var content = JSON.stringify(current_json);
    // $('#txt-content').val(content);
    //var text = "hell world";
    var html = $('#json-target').html().replace(/\n/g,'<br/>').replace(/\n/g,'<br>');
    var text = $('#json-target').innerText().replace('　　', '    ');
    var blob = new Blob([text], {type: "application/json;charset=utf-8"});
    var timestamp=new Date().getTime();
    saveAs(blob, "format."+timestamp+".json");
});
$('.copy').click(function(){
    //$.msg("成功复制到粘贴板","color:#00D69C;");
    // $(this).tooltip('toggle')
    //       .attr('data-original-title', "复制成功！")
    //       .tooltip('fixTitle')
    //       .tooltip('toggle');
});
var clipboard = new Clipboard('.copy');
$('#json-src').keyup();
</script>


<footer style="padding:20px;text-align:center;color:#999;position:relative;">©2014 JSON.cn All right reserved.
<a href="http://www.miitbeian.gov.cn/" style="font-size:12px;" target="_blank">京ICP备15025187号-1</a>
邮箱：service@json.cn
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?2ea5d7a3a13a1da3236117fd8ee2b071";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

</footer>




<audio controls="controls" style="display: none;"></audio></body><style type="text/css">#yddContainer{display:block;font-family:Microsoft YaHei;position:relative;width:100%;height:100%;top:-4px;left:-4px;font-size:12px;border:1px solid}#yddTop{display:block;height:22px}#yddTopBorderlr{display:block;position:static;height:17px;padding:2px 28px;line-height:17px;font-size:12px;color:#5079bb;font-weight:bold;border-style:none solid;border-width:1px}#yddTopBorderlr .ydd-sp{position:absolute;top:2px;height:0;overflow:hidden}.ydd-icon{left:5px;width:17px;padding:0px 0px 0px 0px;padding-top:17px;background-position:-16px -44px}.ydd-close{right:5px;width:16px;padding-top:16px;background-position:left -44px}#yddKeyTitle{float:left;text-decoration:none}#yddMiddle{display:block;margin-bottom:10px}.ydd-tabs{display:block;margin:5px 0;padding:0 5px;height:18px;border-bottom:1px solid}.ydd-tab{display:block;float:left;height:18px;margin:0 5px -1px 0;padding:0 4px;line-height:18px;border:1px solid;border-bottom:none}.ydd-trans-container{display:block;line-height:160%}.ydd-trans-container a{text-decoration:none;}#yddBottom{position:absolute;bottom:0;left:0;width:100%;height:22px;line-height:22px;overflow:hidden;background-position:left -22px}.ydd-padding010{padding:0 10px}#yddWrapper{color:#252525;z-index:10001;background:url(chrome-extension://eopjamdnofihpioajgfdikhhbobonhbb/ab20.png);}#yddContainer{background:#fff;border-color:#4b7598}#yddTopBorderlr{border-color:#f0f8fc}#yddWrapper .ydd-sp{background-image:url(chrome-extension://eopjamdnofihpioajgfdikhhbobonhbb/ydd-sprite.png)}#yddWrapper a,#yddWrapper a:hover,#yddWrapper a:visited{color:#50799b}#yddWrapper .ydd-tabs{color:#959595}.ydd-tabs,.ydd-tab{background:#fff;border-color:#d5e7f3}#yddBottom{color:#363636}#yddWrapper{min-width:250px;max-width:400px;}</style></html>